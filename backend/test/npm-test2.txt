
> backend@1.0.0 test C:\Users\ethan\OneDrive\Desktop\Dev\lang-learning\backend
> cd test && mocha -r ts-node/register ./**/*.ts --watch --watch-files ./**/*.ts

[?25l

  0 passing (0ms)

My connection state new
My connection state new
My connection state new
here
My connection state new
here
before set local description
before set local description
user 2user is creating offer
done creating offer
before set local description
ice candidate received
ice candidate received
ice candidate received
user 2user is creating offer
done creating offer
ice candidate received
ice candidate received
ice candidate received
at accept offer function {
  type: 'offer',
  sdp: 'v=0\r\n' +
    'o=- 8437222017645069403 2 IN IP4 127.0.0.1\r\n' +
    's=-\r\n' +
    't=0 0\r\n' +
    'a=group:BUNDLE 0\r\n' +
    'a=msid-semantic: WMS\r\n' +
    'm=audio 9 UDP/TLS/RTP/SAVPF 111 103 104 9 102 0 8 106 105 13 110 112 113 126\r\n' +
    'c=IN IP4 0.0.0.0\r\n' +
    'a=rtcp:9 IN IP4 0.0.0.0\r\n' +
    'a=ice-ufrag:IHqX\r\n' +
    'a=ice-pwd:ic5I89J52Gf9lgASKuHj49d5\r\n' +
    'a=ice-options:trickle\r\n' +
    'a=fingerprint:sha-256 D7:7D:C2:16:68:74:E8:1E:CE:8D:E1:9A:3E:D8:27:8D:E1:A1:B7:04:CC:7E:E4:92:20:37:92:67:06:1B:24:38\r\n' +
    'a=setup:actpass\r\n' +
    'a=mid:0\r\n' +
    'a=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\n' +
    'a=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\n' +
    'a=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\n' +
    'a=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\n' +
    'a=extmap:5 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\n' +
    'a=extmap:6 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\n' +
    'a=recvonly\r\n' +
    'a=rtcp-mux\r\n' +
    'a=rtpmap:111 opus/48000/2\r\n' +
    'a=rtcp-fb:111 transport-cc\r\n' +
    'a=fmtp:111 minptime=10;useinbandfec=1\r\n' +
    'a=rtpmap:103 ISAC/16000\r\n' +
    'a=rtpmap:104 ISAC/32000\r\n' +
    'a=rtpmap:9 G722/8000\r\n' +
    'a=rtpmap:102 ILBC/8000\r\n' +
    'a=rtpmap:0 PCMU/8000\r\n' +
    'a=rtpmap:8 PCMA/8000\r\n' +
    'a=rtpmap:106 CN/32000\r\n' +
    'a=rtpmap:105 CN/16000\r\n' +
    'a=rtpmap:13 CN/8000\r\n' +
    'a=rtpmap:110 telephone-event/48000\r\n' +
    'a=rtpmap:112 telephone-event/32000\r\n' +
    'a=rtpmap:113 telephone-event/16000\r\n' +
    'a=rtpmap:126 telephone-event/8000\r\n'
}
Adding ice candidate
Adding ice candidate
setting RTCSignalingState stable I am user1
setting RTCConnectionState connecting I am user1
setting answer local description
emitting answer
ice candidate received
ice candidate received
ice candidate received
Adding ice candidate
at accept offer function {
  type: 'offer',
  sdp: 'v=0\r\n' +
    'o=- 8303460562959838235 2 IN IP4 127.0.0.1\r\n' +
    's=-\r\n' +
    't=0 0\r\n' +
    'a=group:BUNDLE 0\r\n' +
    'a=msid-semantic: WMS\r\n' +
    'm=audio 9 UDP/TLS/RTP/SAVPF 111 103 104 9 102 0 8 106 105 13 110 112 113 126\r\n' +
    'c=IN IP4 0.0.0.0\r\n' +
    'a=rtcp:9 IN IP4 0.0.0.0\r\n' +
    'a=ice-ufrag:0UVO\r\n' +
    'a=ice-pwd:0H8BVQy/S1RZJbrydeCcPiCK\r\n' +
    'a=ice-options:trickle\r\n' +
    'a=fingerprint:sha-256 1C:4A:02:99:5F:D5:35:CA:61:EE:6B:F4:55:70:D6:57:23:79:CF:71:40:1A:43:76:1D:DE:2C:8C:84:BF:5D:9C\r\n' +
    'a=setup:actpass\r\n' +
    'a=mid:0\r\n' +
    'a=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\n' +
    'a=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\n' +
    'a=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\n' +
    'a=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\n' +
    'a=extmap:5 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\n' +
    'a=extmap:6 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\n' +
    'a=recvonly\r\n' +
    'a=rtcp-mux\r\n' +
    'a=rtpmap:111 opus/48000/2\r\n' +
    'a=rtcp-fb:111 transport-cc\r\n' +
    'a=fmtp:111 minptime=10;useinbandfec=1\r\n' +
    'a=rtpmap:103 ISAC/16000\r\n' +
    'a=rtpmap:104 ISAC/32000\r\n' +
    'a=rtpmap:9 G722/8000\r\n' +
    'a=rtpmap:102 ILBC/8000\r\n' +
    'a=rtpmap:0 PCMU/8000\r\n' +
    'a=rtpmap:8 PCMA/8000\r\n' +
    'a=rtpmap:106 CN/32000\r\n' +
    'a=rtpmap:105 CN/16000\r\n' +
    'a=rtpmap:13 CN/8000\r\n' +
    'a=rtpmap:110 telephone-event/48000\r\n' +
    'a=rtpmap:112 telephone-event/32000\r\n' +
    'a=rtpmap:113 telephone-event/16000\r\n' +
    'a=rtpmap:126 telephone-event/8000\r\n'
}
Adding ice candidate
Adding ice candidate
Adding ice candidate
at accept offer function {
  type: 'offer',
  sdp: 'v=0\r\n' +
    'o=- 8303460562959838235 2 IN IP4 127.0.0.1\r\n' +
    's=-\r\n' +
    't=0 0\r\n' +
    'a=group:BUNDLE 0\r\n' +
    'a=msid-semantic: WMS\r\n' +
    'm=audio 9 UDP/TLS/RTP/SAVPF 111 103 104 9 102 0 8 106 105 13 110 112 113 126\r\n' +
    'c=IN IP4 0.0.0.0\r\n' +
    'a=rtcp:9 IN IP4 0.0.0.0\r\n' +
    'a=ice-ufrag:0UVO\r\n' +
    'a=ice-pwd:0H8BVQy/S1RZJbrydeCcPiCK\r\n' +
    'a=ice-options:trickle\r\n' +
    'a=fingerprint:sha-256 1C:4A:02:99:5F:D5:35:CA:61:EE:6B:F4:55:70:D6:57:23:79:CF:71:40:1A:43:76:1D:DE:2C:8C:84:BF:5D:9C\r\n' +
    'a=setup:actpass\r\n' +
    'a=mid:0\r\n' +
    'a=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\n' +
    'a=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\n' +
    'a=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\n' +
    'a=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\n' +
    'a=extmap:5 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\n' +
    'a=extmap:6 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\n' +
    'a=recvonly\r\n' +
    'a=rtcp-mux\r\n' +
    'a=rtpmap:111 opus/48000/2\r\n' +
    'a=rtcp-fb:111 transport-cc\r\n' +
    'a=fmtp:111 minptime=10;useinbandfec=1\r\n' +
    'a=rtpmap:103 ISAC/16000\r\n' +
    'a=rtpmap:104 ISAC/32000\r\n' +
    'a=rtpmap:9 G722/8000\r\n' +
    'a=rtpmap:102 ILBC/8000\r\n' +
    'a=rtpmap:0 PCMU/8000\r\n' +
    'a=rtpmap:8 PCMA/8000\r\n' +
    'a=rtpmap:106 CN/32000\r\n' +
    'a=rtpmap:105 CN/16000\r\n' +
    'a=rtpmap:13 CN/8000\r\n' +
    'a=rtpmap:110 telephone-event/48000\r\n' +
    'a=rtpmap:112 telephone-event/32000\r\n' +
    'a=rtpmap:113 telephone-event/16000\r\n' +
    'a=rtpmap:126 telephone-event/8000\r\n'
}
Adding ice candidate
Adding ice candidate
Adding ice candidate
Accepting answer
received an answer
accepted answer
Adding ice candidate
Adding ice candidate
Adding ice candidate
setting RTCConnectionState connected I am user1
setting RTCSignalingState stable I am user1
setting RTCConnectionState connecting I am user1
setting answer local description
emitting answer
ice candidate received
ice candidate received
ice candidate received
setting RTCSignalingState stable I am 2user
setting RTCConnectionState connected I am 2user
setting RTCConnectionState connected I am 2user
setting RTCConnectionState connected I am 2user
setting RTCConnectionState connected I am 2user
ice candidate received
ice candidate received
ice candidate received
Accepting answer
received an answer
Adding ice candidate
ice candidate received
ice candidate received
ice candidate received
Adding ice candidate
Adding ice candidate
Adding ice candidate
Adding ice candidate
Adding ice candidate
Adding ice candidate
Adding ice candidate
Adding ice candidate
setting RTCConnectionState connecting I am user1
Adding ice candidate
Adding ice candidate
Adding ice candidate
Adding ice candidate
Adding ice candidate
Adding ice candidate
ice candidate received
ice candidate received
ice candidate received
Adding ice candidate
Adding ice candidate
Adding ice candidate
Adding ice candidate
Adding ice candidate
Adding ice candidate
in settimeout - checking rtcs
mocker1 signaling state GOOD
in settimeout - checking rtcs
mocker1 signaling state GOOD
setting RTCConnectionState failed I am user1
[2K

  0 passing (0ms)

My connection state new
My connection state new
here
in settimeout - checking rtcs
mocker1 signaling state GOOD
before set local description
before set local description
user user1 is creating offer
done creating offer
ice candidate received
ice candidate received
ice candidate received
at accept offer function {
  type: 'offer',
  sdp: 'v=0\r\n' +
    'o=- 2893472346265077695 2 IN IP4 127.0.0.1\r\n' +
    's=-\r\n' +
    't=0 0\r\n' +
    'a=group:BUNDLE 0\r\n' +
    'a=msid-semantic: WMS\r\n' +
    'm=audio 55653 UDP/TLS/RTP/SAVPF 111 103 104 9 102 0 8 106 105 13 110 112 113 126\r\n' +
    'c=IN IP4 172.25.128.1\r\n' +
    'a=rtcp:9 IN IP4 0.0.0.0\r\n' +
    'a=candidate:2389619259 1 udp 2122260223 172.25.128.1 55653 typ host generation 0 network-id 1\r\n' +
    'a=candidate:559267639 1 udp 2122202367 ::1 55654 typ host generation 0 network-id 3\r\n' +
    'a=candidate:1510613869 1 udp 2122129151 127.0.0.1 55655 typ host generation 0 network-id 2\r\n' +
    'a=ice-ufrag:uYGi\r\n' +
    'a=ice-pwd:4jh4TknI68CYqRaZ1QIN1MWC\r\n' +
    'a=ice-options:trickle\r\n' +
    'a=fingerprint:sha-256 FA:DD:D8:86:EC:EE:7F:FF:74:BF:62:8D:A8:EF:C8:4C:B2:C0:19:CE:B7:03:E6:5B:3A:D8:74:18:B6:1D:BA:8A\r\n' +
    'a=setup:actpass\r\n' +
    'a=mid:0\r\n' +
    'a=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\n' +
    'a=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\n' +
    'a=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\n' +
    'a=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\n' +
    'a=extmap:5 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\n' +
    'a=extmap:6 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\n' +
    'a=recvonly\r\n' +
    'a=rtcp-mux\r\n' +
    'a=rtpmap:111 opus/48000/2\r\n' +
    'a=rtcp-fb:111 transport-cc\r\n' +
    'a=fmtp:111 minptime=10;useinbandfec=1\r\n' +
    'a=rtpmap:103 ISAC/16000\r\n' +
    'a=rtpmap:104 ISAC/32000\r\n' +
    'a=rtpmap:9 G722/8000\r\n' +
    'a=rtpmap:102 ILBC/8000\r\n' +
    'a=rtpmap:0 PCMU/8000\r\n' +
    'a=rtpmap:8 PCMA/8000\r\n' +
    'a=rtpmap:106 CN/32000\r\n' +
    'a=rtpmap:105 CN/16000\r\n' +
    'a=rtpmap:13 CN/8000\r\n' +
    'a=rtpmap:110 telephone-event/48000\r\n' +
    'a=rtpmap:112 telephone-event/32000\r\n' +
    'a=rtpmap:113 telephone-event/16000\r\n' +
    'a=rtpmap:126 telephone-event/8000\r\n'
}
Adding ice candidate
Adding ice candidate
Adding ice candidate
setting RTCSignalingState stable I am 2user
setting RTCConnectionState connecting I am 2user
setting answer local description
emitting answer
ice candidate received
ice candidate received
ice candidate received
Accepting answer
received an answer
accepted answer
Adding ice candidate
Adding ice candidate
Adding ice candidate
setting RTCSignalingState stable I am user1
setting RTCConnectionState connecting I am user1
ice candidate received
ice candidate received
ice candidate received
Adding ice candidate
Adding ice candidate
Adding ice candidate
ice candidate received
ice candidate received
ice candidate received
ice candidate received
ice candidate received
ice candidate received
Adding ice candidate
Adding ice candidate
Adding ice candidate
Adding ice candidate
Adding ice candidate
Adding ice candidate
ice candidate received
ice candidate received
ice candidate received
ice candidate received
ice candidate received
ice candidate received
ice candidate received
ice candidate received
ice candidate received
ice candidate received
ice candidate received
ice candidate received
ice candidate received
ice candidate received
ice candidate received
ice candidate received
ice candidate received
ice candidate received
setting RTCConnectionState failed I am 2user
ice candidate received
ice candidate received
ice candidate received
ice candidate received
ice candidate received
ice candidate received
ice candidate received
ice candidate received
ice candidate received
ice candidate received
ice candidate received
ice candidate received
ice candidate received
ice candidate received
ice candidate received
ice candidate received
ice candidate received
ice candidate received
